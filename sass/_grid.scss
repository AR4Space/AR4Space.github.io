
.grid {
    display: grid;
    grid-template-columns: repeat(24, 1fr);
    justify-content: center;
    row-gap: 3rem;
}

.grid a {
  // Remove the animated underline
  &::after {
    content: none !important;  // disables the pseudo-element
  }

  // Ensure no transform or transition applies
  transform: none !important;
  transition: none !important;

  // Set custom link color
  color: var(--color-fg) !important;  // default link color

  // Hover/focus color
  &:hover,
  &:focus-visible {
    color: var(--color-mg) !important;  // hover link color
  }
}

.grid > * {
    grid-column: span 24;
}
@media (min-width: round(3 * $container-width / 8)) {
    .grid > * {
        grid-column: span 12;
    }
    .grid:has(>:nth-child(odd):last-child) > *:first-child {
        grid-column-end: 19;
    }
}
@media (min-width: round(9 * $container-width / 16)) {
    .grid > * {
        grid-column: span 8;
    }
    .grid:has(>:nth-child(odd):last-child) > *:first-child {
        grid-column-end: unset;
    }
    .grid:has(>:nth-child(3n+2):last-child) > *:first-child, .grid:has(>:nth-child(3n+4):last-child) > *:first-child, .grid:has(>:nth-child(3n+4):last-child) > *:nth-child(3) {
        grid-column-end: 13;
    }
    .grid:has(>:nth-child(1):last-child) > *:first-child {
        grid-column-end: 17;
    }
}
@media (min-width: round(3 * $container-width / 4)) {
    .grid > * {
        grid-column: span 6;
    }
    .grid:has(>:nth-child(3n+2):last-child) > *:first-child, .grid:has(>:nth-child(3n+4):last-child) > *:first-child, .grid:has(>:nth-child(3n+4):last-child) > *:nth-child(3) {
        grid-column-end: unset;
    }
    .grid:has(>:nth-child(4n+2):last-child) > *:nth-child(3) {
        grid-column-end: 7;
    }
    .grid:has(>:nth-child(4n+2):last-child) > *:first-child {
        grid-column-end: 13;
    }
    .grid:has(>:nth-child(4n+3):last-child) > *:first-child, .grid:has(>:nth-child(4n+5):last-child) > *:first-child, .grid:has(>:nth-child(4n+5):last-child) > *:nth-child(4), .grid:has(>:nth-child(4n+5):last-child) > *:nth-child(7), .grid:has(>:nth-child(5):last-child) > *:nth-child(3), .grid:has(>:nth-child(6):last-child) > *:first-child, .grid:has(>:nth-child(6):last-child) > *:nth-child(4) {
        grid-column-end: 10;
    }
    .grid:has(>:nth-child(5):last-child) > *:first-child {
        grid-column-end: 13;
    }
    .grid:has(>:nth-child(1):last-child) > *:first-child, .grid:has(>:nth-child(5):last-child) > *:nth-child(4) {
        grid-column-end: 16;
    }
    .grid:has(>:nth-child(6):last-child) > *:nth-child(3) {
        grid-column-end: 22;
    }
}

/* Make wrapper a positioning context */
.img-wrapper {
  position: relative;
  display: inline-block;
}

/* Overlay for circular images */
.img-wrapper::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: var(--color-mg);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
  z-index: 1;
}

/* Show overlay when the link is hovered */
.text-center.mx-3 > a:hover .img-wrapper,
.text-center.mx-3 > a:focus-within .img-wrapper {
  /* hover triggered by link hover, not just image */
}

.text-center.mx-3 > a:hover .img-wrapper::before,
.text-center.mx-3 > a:focus-within .img-wrapper::before {
  opacity: 0.12; /* gentle overlay */
}

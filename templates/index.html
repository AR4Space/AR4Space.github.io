{% import "macros/list.html" as list %}
{% extends "default.html" %}

{% block header %}

  {# Get parent section if this is a page #}
  {% set parent = false %}
  {% if page is defined and page.ancestors | length > 0 %}
      {% set parent_path = page.ancestors | last %}
      {% set parent = get_section(path=parent_path) %}
  {% endif %}

  {# Determine header source #}
  {% if parent %}
      {% set source = parent %}
  {% else %}
      {% set source = this %}
  {% endif %}

  <header>
    <canvas id="particles"></canvas>
    <div class="header-content">
      <div class="container d-flex justify-center">
        <div class="header text-center px-3 py-4">

          <h1 id="home">
            {% if source.extra.tagline %}
              <span class="tagline h3">{{ source.extra.tagline }}</span>
            {% endif %}

            {% if parent %}
              <a class="section-root" href="{{ parent.permalink }}">
                {{ source.title }}
              </a>
            {% else %}
              <a class="section-root" href="{{ this.permalink }}">
                {{ source.title }}
              </a>
            {% endif %}
          </h1>

          {% if source.extra.subtitles %}
            {% for subtitle in source.extra.subtitles %}
              <h2 class="h3{% if not loop.last %} mb-2{% endif %}">
                {{ subtitle }}
              </h2>
            {% endfor %}
          {% endif %}

          {% if source.extra.buttons %}
            <div class="d-flex justify-center">
              {% for button in source.extra.buttons %}
                <a class="btn mx-1" href="{{ button.url | safe }}">
                  {{ button.name }}
                </a>
              {% endfor %}
            </div>
          {% endif %}

        </div>
      </div>
    </div>
  </header>

{% endblock %}



{% block main %}
<main aria-label="Content">
  {% block content %}
    <div class="bg-even">
      <section class="container content py-5">
        {{ list::insert_list(content = this.content) | safe }}
      </section>
    </div>
  {% endblock %}
</main>
{% endblock %}

{% block footer %}
{% if config.extra.footer_text %}
<footer class="footer">
  {{ config.extra.footer_text | markdown | safe }}
</footer>
{% endif %}
{% endblock %}
